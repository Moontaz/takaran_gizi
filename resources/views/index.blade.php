<!DOCTYPE html>
<html>

<head>
    <title>Takaran Gizi</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <link rel="stylesheet" href="/assets/css/main.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<body class="is-preload">
    <!-- Wrapper -->
    <div id="wrapper">
        <!-- Intro -->
        <section class="intro">
            <header>
                <h1>Takaran Gizi</h1>
                <br />
                <p>
                    Halaman Website untuk mengetahui kebutuhan gizi harianmu <br />by
                    <a href="https://github.com/Moontaz" target="_blank">Moongo</a> /
                    <a href="https://github.com/lebefriedlich" target="_blank">lebefriedlich</a>
                </p>
                <ul class="actions">
                    <li>
                        <a href="#first" class="arrow scrolly"><span class="label">Next</span></a>
                    </li>
                </ul>
            </header>
            <div class="content">
                <span class="image fill" data-position="center"><img src="/images/pic01.jpg" alt="" /></span>
            </div>
        </section>

        <!-- Section -->
        <section id="first">
            <header>
                <h2>Makanan Sehat â‰  Makanan Hambar</h2>
            </header>
            <div class="content">
                <p>
                    <strong>Banyak orang menganggap makanan sehat itu selalu hambar dan tidak
                        enak</strong>. Padahal, dengan kreativitas yang tepat, makanan sehat bisa sangat
                    lezat. Penggunaan rempah-rempah dan bumbu alami dapat menghasilkan
                    hidangan sehat yang kaya rasa. Banyak bahan makanan sehat memiliki
                    rasa alami yang enak, seperti buah segar dan sayuran panggang. Jadi,
                    ubahlah pola pikir Anda dan cobalah resep baru untuk menikmati
                    makanan sehat yang memuaskan.
                </p>
                <span class="image main"><img src="/images/pic02.jpg" alt="" /></span>
            </div>
        </section>

        <!-- Section -->
        <section>
            <header>
                <h2>Tiga Elemen Penting untuk Membangun Hidup Sehat</h2>
            </header>
            <div class="content">
                <p>
                    <strong>Untuk mencapai hidup yang sehat dan seimbang,</strong>
                    penting untuk memahami tiga elemen utama yang mendukung kesehatan
                    tubuh secara keseluruhan.
                </p>

                <!-- Section -->
                <section>
                    <header>
                        <h3>Nutrisi</h3>
                        <p>
                            Melibatkan asupan nutrisi penting seperti karbohidrat, protein,
                            lemak, vitamin, mineral, dan air, penting untuk menopang
                            kehidupan dan meningkatkan fungsi tubuh. Membuat pilihan
                            berdasarkan informasi mengenai makanan memastikan pola makan
                            seimbang yang disesuaikan dengan kebutuhan individu, mendukung
                            pertumbuhan, perkembangan, dan kesejahteraan secara keseluruhan.
                        </p>
                    </header>
                    <div class="content">
                        <div class="gallery">
                            <a href="/images/gallery/fulls/nutrition01.jpg" class="landscape"><img
                                    src="/images/gallery/thumbs/nutrition01.jpg" alt="" /></a>
                            <a href="/images/gallery/fulls/nutrition02.jpg"><img
                                    src="/images/gallery/thumbs/nutrition02.jpg" alt="" /></a>
                            <a href="/images/gallery/fulls/nutrition03.jpg"><img
                                    src="/images/gallery/thumbs/nutrition03.jpg" alt="" /></a>
                        </div>
                    </div>
                </section>

                <!-- Section -->
                <section>
                    <header>
                        <h3>Vitamin</h3>
                        <p>
                            Senyawa organik penting untuk proses fisiologis, memainkan peran
                            penting dalam metabolisme, fungsi kekebalan tubuh, dan
                            pertumbuhan sel. Diklasifikasikan ke dalam jenis yang larut
                            dalam lemak dan larut dalam air, sumbernya berasal dari berbagai
                            makanan dan kekurangan atau kelebihan asupannya dapat berdampak
                            signifikan pada kesehatan.
                        </p>
                    </header>
                    <div class="content">
                        <div class="gallery">
                            <a href="/images/gallery/fulls/vitamin01.jpg" class="landscape"><img
                                    src="/images/gallery/thumbs/vitamin01.jpg" alt="" /></a>
                            <a href="/images/gallery/fulls/vitamin02.jpg"><img
                                    src="/images/gallery/thumbs/vitamin02.jpg" alt="" /></a>
                            <a href="/images/gallery/fulls/vitamin03.jpg"><img
                                    src="/images/gallery/thumbs/vitamin03.jpg" alt="" /></a>
                        </div>
                    </div>
                </section>

                <!-- Section -->
                <section>
                    <header>
                        <h3>Mineral</h3>
                        <p>
                            Zat anorganik yang diperlukan untuk fungsi tubuh, berkontribusi
                            pada kesehatan tulang, fungsi otot, dan transmisi saraf.
                            Diklasifikasikan sebagai makromineral dan mikromineral, zat-zat
                            ini diperoleh dari berbagai sumber makanan dan sangat penting
                            untuk mencegah kekurangan nutrisi serta mendukung kesehatan
                            secara keseluruhan.
                        </p>
                    </header>
                    <div class="content">
                        <div class="gallery">
                            <a href="/images/gallery/fulls/mineral03.jpg" class="portrait"><img
                                    src="/images/gallery/thumbs/mineral03.jpg" alt="" /></a>
                            <a href="/images/gallery/fulls/mineral02.jpg" class="portrait"><img
                                    src="/images/gallery/thumbs/mineral02.jpg" alt="" /></a>
                            <a href="/images/gallery/fulls/mineral01.jpg" class="landscape"><img
                                    src="/images/gallery/thumbs/mineral01.jpg" alt="" /></a>
                        </div>
                    </div>
                </section>
            </div>
        </section>

        <!-- Section -->
        <section>
            <header>
                <h2>Sumber Rujukan</h2>
            </header>
            <div class="content">
                <p>
                    Data yang kami gunakan berasal dari pemerintah melalui Kementerian Kesehatan yang dituangkan
                    pada <a href="https://peraturan.bpk.go.id/Details/138621/permenkes-no-28-tahun-2019"
                        class="text-decoration-underline" target="_blank"><strong>Permenkes No. 28 Tahun
                            2019</strong></a>.
                </p>
                <ul class="actions">
                    <li><a href="#form" class="button primary large">Mulai Sekarang</a></li>
                    <li><a href="#first" class="button large">Pelajari Lebih Lanjut</a></li>
                </ul>
            </div>
        </section>

        <!-- Section -->
        <section id="form">
            <header>
                <h2>Hitung Takaran Gizi Harian Anda</h2>
            </header>
            <div class="content">
                <p>
                    <strong>Masukkan informasi berikut untuk menghitung takaran gizi harian Anda:</strong>
                </p>
                <form id="myForm">
                    @csrf
                    <label for="usia" class="col-sm-2 col-form-label">Usia</label>
                    <div class="fields">
                        <div class="field half">
                            <input type="text" class="" id="usia" name="usia" placeholder="e.g. 5"
                                required />
                        </div>
                        <div class="field half">
                            <select class="" size="1" id="tahunOrBulan" name="tahunOrBulan" required>
                                <option selected value="tahun">Tahun</option>
                                <option value="bulan">Bulan</option>
                            </select>
                        </div>
                    </div>
                    <div class="field">
                        <label for="gender" class="">Jenis Kelamin</label>
                        <div class="field">
                            <select class="" size="1" id="gender" name="gender" required>
                                <option value="-" selected>-</option>
                                <option value="laki-laki">Laki-laki</option>
                                <option value="perempuan">Perempuan</option>
                            </select>
                        </div>
                    </div>
                    <div class="fields">
                        <div class="field half mt-4" id="hamilOrMenyusui"></div>
                        <div class="field half mt-4" id="umurHamilOrMenyusui"></div>
                    </div>
                    <div class="">
                        <button type="button" id="disabledInput" class="button primary large"
                            data-bs-toggle="modal" data-bs-target="#staticBackdrop" onclick="submitForm()">
                            Submit
                        </button>
                    </div>
                </form>
            </div>

            <!-- Copyright -->
            <div class="copyright">&copy; Takaran. All rights reserved.</div>

            <!-- Modal -->
            <!-- Modal 1 -->
            <div class="modal" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false"
                tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content" style="width: 700px;">
                        <div class="modal-header pb-0" style="height: auto;">
                            <h1 class="mb-0" id="staticBackdropLabel" style="font-size: 3rem;">
                                Nutrition
                            </h1>
                            <button type="button" class="btn-close fs-3 me-1" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <tbody>
                                        <tr>
                                            <td scope="row">Energi</td>
                                            <td id="energi">...</td>
                                            <td scope="row">Protein</td>
                                            <td id="protein">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Total Lemak</td>
                                            <td id="total_lemak">...</td>
                                            <td scope="row">Karbohidrat</td>
                                            <td id="karbohidrat">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Omega 3</td>
                                            <td id="omega3">...</td>
                                            <td scope="row">Omega 6</td>
                                            <td id="omega6">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Serat</td>
                                            <td id="serat">...</td>
                                            <td scope="row">Air</td>
                                            <td id="air">...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="input-group fs-5" role="group" aria-label="Basic example">
                                <button type="button" class="button primary ms-auto"
                                    data-bs-target="#staticBackdrop" data-bs-toggle="modal" disabled>
                                    Previous
                                </button>
                                <button type="button" class="button primary" data-bs-target="#staticBackdrop2"
                                    data-bs-toggle="modal">
                                    Next
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal 1 Tutup -->
            <!-- Modal 2 -->
            <div class="modal" id="staticBackdrop2" data-bs-backdrop="static" data-bs-keyboard="false"
                tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header pb-0" style="height: auto;">
                            <h1 class="mb-0" id="staticBackdropLabel" style="font-size: 3rem;">
                                Vitamin
                            </h1>
                            <button type="button" class="btn-close fs-3 me-1" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <tbody>
                                        <tr>
                                            <td scope="row">Vitamin A</td>
                                            <td id="vitA">...</td>
                                            <td scope="row">Vitamin D</td>
                                            <td id="vitD">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Vitamin E</td>
                                            <td id="vitE">...</td>
                                            <td scope="row">Vitamin K</td>
                                            <td id="vitK">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Vitamin B1</td>
                                            <td id="vitB1">...</td>
                                            <td scope="row">Vitamin B2</td>
                                            <td id="vitB2">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Vitamin B3</td>
                                            <td id="vitB3">...</td>
                                            <td scope="row">Vitamin B5</td>
                                            <td id="vitB5">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Vitamin B6</td>
                                            <td id="vitB6">...</td>
                                            <td scope="row">Vitamin B12</td>
                                            <td id="vitB12">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Folat</td>
                                            <td id="folat">...</td>
                                            <td scope="row">Biotin</td>
                                            <td id="Biotin">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Kolin</td>
                                            <td id="kolin">...</td>
                                            <td scope="row">Vitamin C</td>
                                            <td id="vitC">...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="input-group fs-5" role="group" aria-label="Basic example">
                                <button type="button" class="button primary ms-auto"
                                    data-bs-target="#staticBackdrop" data-bs-toggle="modal">
                                    Previous
                                </button>
                                <button type="button" class="button primary" data-bs-target="#staticBackdrop3"
                                    data-bs-toggle="modal">
                                    Next
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal 2 Tutup -->
            <!-- Modal 3 -->
            <div class="modal" id="staticBackdrop3" data-bs-backdrop="static" data-bs-keyboard="false"
                tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header pb-0" style="height: auto;">
                            <h1 class="mb-0" id="staticBackdropLabel" style="font-size: 3rem;">
                                Mineral
                            </h1>
                            <button type="button" class="btn-close fs-3 me-1" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <tbody>
                                        <tr>
                                            <td scope="row">Kalsium</td>
                                            <td id="kalsium">...</td>
                                            <td scope="row">Fosfor</td>
                                            <td id="fosfor">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Magnesium</td>
                                            <td id="magnesium">...</td>
                                            <td scope="row">Besi</td>
                                            <td id="besi">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Iodium</td>
                                            <td id="iodium">...</td>
                                            <td scope="row">Seng</td>
                                            <td id="seng">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Selenium</td>
                                            <td id="selenium">...</td>
                                            <td scope="row">Mangan</td>
                                            <td id="mangan">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Flour</td>
                                            <td id="flour">...</td>
                                            <td scope="row">Kromium</td>
                                            <td id="kromium">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Kalium</td>
                                            <td id="kalium">...</td>
                                            <td scope="row">Natrium</td>
                                            <td id="natrium">...</td>
                                        </tr>
                                        <tr>
                                            <td scope="row">Klor</td>
                                            <td id="klor">...</td>
                                            <td scope="row">Tembaga</td>
                                            <td id="tembaga">...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <div class="input-group fs-5" role="group" aria-label="Basic example">
                                <button type="button" class="button primary ms-auto"
                                    data-bs-target="#staticBackdrop2" data-bs-toggle="modal">
                                    Previous
                                </button>
                                <button type="button" class="button primary" data-bs-target="#staticBackdrop"
                                    data-bs-toggle="modal" disabled>
                                    Next
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Modal 3 Tutup -->
    </div>



    <!-- Scripts -->
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/jquery.scrolly.min.js"></script>
    <script src="/assets/js/browser.min.js"></script>
    <script src="/assets/js/breakpoints.min.js"></script>
    <script src="/assets/js/util.js"></script>
    <script src="/assets/js/main.js"></script>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous">
    </script>
    <script src="/assets/js/script.js"></script>
    <script>
        function submitForm() {
            var usia = document.getElementById("usia").value;
            var tahunOrBulan = document.getElementById("tahunOrBulan").value;
            var gender = document.getElementById("gender").value;
            var kondisiKhusus = document.querySelector(
                    'input[name="kondisiKhusus"]:checked'
                ) ?
                document.querySelector('input[name="kondisiKhusus"]:checked').value :
                "";
            var umurHamilOrMenyusui = document.querySelector(
                    'input[name="umurHamilOrMenyusui"]:checked'
                ) ?
                document.querySelector('input[name="umurHamilOrMenyusui"]:checked')
                .value :
                "";

            var formData = new FormData();
            formData.append("usia", usia);
            formData.append("tahunOrBulan", tahunOrBulan);
            formData.append("gender", gender);
            if (kondisiKhusus && umurHamilOrMenyusui) {
                formData.append("hamilMenyusui", kondisiKhusus);
                formData.append("umur", umurHamilOrMenyusui);
            }

            var csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');

            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/find", true);
            xhr.setRequestHeader("X-CSRF-TOKEN", csrfToken);
            xhr.onreadystatechange = function() {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        try {
                            var responseData = JSON.parse(xhr.responseText);
                            console.log(responseData);
                            // tabel 1
                            document.getElementById("energi").innerText =
                                responseData.tabel1.energi + " kkal";
                            document.getElementById("protein").innerText =
                                responseData.tabel1.protein + " g";
                            document.getElementById("total_lemak").innerText =
                                responseData.tabel1.total_lemak + " g";
                            document.getElementById("karbohidrat").innerText =
                                responseData.tabel1.karbohidrat + " g";
                            document.getElementById("omega3").innerText =
                                responseData.tabel1.omega3 + " g";
                            document.getElementById("omega6").innerText =
                                responseData.tabel1.omega6 + " g";
                            document.getElementById("serat").innerText =
                                responseData.tabel1.serat + " g";
                            document.getElementById("air").innerText =
                                responseData.tabel1.air + " ml";

                            // tabel 2
                            document.getElementById("vitA").innerText =
                                responseData.tabel2.vitA + " RE";
                            document.getElementById("vitD").innerText =
                                responseData.tabel2.vitD + " mcg";
                            document.getElementById("vitE").innerText =
                                responseData.tabel2.vitE + " mcg";
                            document.getElementById("vitK").innerText =
                                responseData.tabel2.vitK + " mcg";
                            document.getElementById("vitB1").innerText =
                                responseData.tabel2.vitB1 + " mg";
                            document.getElementById("vitB2").innerText =
                                responseData.tabel2.vitB2 + " mg";
                            document.getElementById("vitB3").innerText =
                                responseData.tabel2.vitB3 + " mg";
                            document.getElementById("vitB5").innerText =
                                responseData.tabel2.vitB5 + " mg";
                            document.getElementById("vitB6").innerText =
                                responseData.tabel2.vitB6 + " mg";
                            document.getElementById("vitB12").innerText =
                                responseData.tabel2.vitB12 + " mcg";
                            document.getElementById("folat").innerText =
                                responseData.tabel2.folat + " mcg";
                            document.getElementById("Biotin").innerText =
                                responseData.tabel2.biotin + " mcg";
                            document.getElementById("kolin").innerText =
                                responseData.tabel2.kolin + " mg";
                            document.getElementById("vitC").innerText =
                                responseData.tabel2.vitC + " mg";

                            // tabel 3
                            document.getElementById("kalsium").innerText =
                                responseData.tabel3.kalsium + " mg";
                            document.getElementById("fosfor").innerText =
                                responseData.tabel3.fosfor + " mg";
                            document.getElementById("magnesium").innerText =
                                responseData.tabel3.magnesium + " mcg";
                            document.getElementById("besi").innerText =
                                responseData.tabel3.besi + " mg";
                            document.getElementById("iodium").innerText =
                                responseData.tabel3.iodium + " mcg";
                            document.getElementById("seng").innerText =
                                responseData.tabel3.seng + " mg";
                            document.getElementById("tembaga").innerText =
                                responseData.tabel3.tembaga + " mcg";
                            document.getElementById("flour").innerText =
                                responseData.tabel3.fluor + " mg";
                            document.getElementById("kromium").innerText =
                                responseData.tabel3.kromium + " mcg";
                            document.getElementById("kalium").innerText =
                                responseData.tabel3.kalium + " mg";
                            document.getElementById("natrium").innerText =
                                responseData.tabel3.natrium + " mg";
                            document.getElementById("klor").innerText =
                                responseData.tabel3.klor + " mg";
                            document.getElementById("selenium").innerText =
                                responseData.tabel3.selenium + " mcg";
                            document.getElementById("mangan").innerText =
                                responseData.tabel3.mangan + " mg";
                        } catch (error) {
                            console.error("Error parsing JSON:", error);
                        }
                    } else {
                        console.error("Failed to send form data.");
                    }
                }
            };
            xhr.send(formData);
        }
    </script>
</body>

</html>
